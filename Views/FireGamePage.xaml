<Page x:Class="MarshakGame.Views.FireGamePage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      Title="Волшебный костёр"
      Background="Black">
    <Grid>
        <Viewbox Stretch="Fill">
            <Canvas x:Name="GameCanvas" Width="1920" Height="1080" Background="#FF0D1B2A" MouseDown="GameCanvas_MouseDown">

                <Image Source="/Assets/Images/winter_forest.png" Stretch="Fill" Width="1920" Height="1080" Opacity="0.7"/>

                <Image x:Name="LogsImage" Source="/Assets/Images/logs.png" Width="500" Height="250"
                        Canvas.Left="710" Canvas.Top="830"/>

                <Image x:Name="FireImage" Source="/Assets/Images/fire.png" Width="250" Height="375"
                        Canvas.Left="835" Canvas.Bottom="120"/>

                <TextBlock x:Name="TimerText" Foreground="White" FontSize="36" 
                    Canvas.Top="30" Canvas.Left="1650"/>

                <TextBlock x:Name="ScoreText" Foreground="White" FontSize="36" 
                           Canvas.Top="30" Canvas.Left="50"/>

                <Border x:Name="StartScreen" Background="#80000000" Visibility="Visible" 
                        Width="1920" Height="1080" Panel.ZIndex="100">
                    <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                        <TextBlock Text="Волшебный костёр" FontSize="72" Foreground="#FFFF9900" 
                                   TextAlignment="Center" Margin="0,0,0,30"/>
                        <TextBlock Text="Поддержи огонь 30 секунд, ловя дрова и избегая снежки!" 
                                   FontSize="36" Foreground="White" TextAlignment="Center" Margin="0,0,0,30"/>
                        <Button Content="Начать игру" FontSize="36" Padding="40,20" 
                                Background="#FF4A2E1D" Foreground="White" 
                                BorderBrush="#FFFF9900" Click="StartGame_Click" 
                                HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>

                <Border x:Name="GameOverScreen" Background="#80000000" Visibility="Collapsed" Width="1920" Height="1080" Panel.ZIndex="100">
                    <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                        <TextBlock x:Name="GameResultText" Text="" FontSize="72" 
                                   Foreground="#FFFF9900" TextAlignment="Center" Margin="0,0,0,30"/>
                        <TextBlock x:Name="FinalScoreText" Text="" FontSize="36" 
                                   Foreground="White" TextAlignment="Center" Margin="0,0,0,30"/>

                        <Button x:Name="RestartButton" Content="Играть снова" FontSize="36" Padding="40,20" 
                                Background="#FF4A2E1D" Foreground="White" BorderBrush="#FFFF9900" 
                                Click="RestartGame_Click" HorizontalAlignment="Center"/>

                        <Button x:Name="NextButton" Content="Дальше" FontSize="36" Padding="40,20" Margin="0,20,0,0"
                                Background="#FF4A2E1D" Foreground="White" BorderBrush="#FFFF9900" 
                                HorizontalAlignment="Center" Visibility="Collapsed" Click="ContinueStory_Click"/>
                    </StackPanel>
                </Border>
            </Canvas>
        </Viewbox>
    </Grid>
</Page>